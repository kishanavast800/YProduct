<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
    <title>{% block title %} {% endblock %}</title>
      <style>

        {% block css %} {% endblock %}
        </style>
  </head>
  <body>
  {% load static %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-success my-2">
  <a class="navbar-brand" href="#">YProduct.Com</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="/myShop/">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/myShop/villageContact">Request</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/myShop/checkout">Checkout</a>
      </li>

      
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Dropdown
      </a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        <a class="dropdown-item" href="/myShop/Officestationary">Office Stationary</a>
        <a class="dropdown-item" href="/myShop/Desktopstationary">Desktop Stationary</a>
        <a class="dropdown-item" href="/myShop/Paper_and_pad">Paper and Pad</a>
        <a class="dropdown-item" href="/myShop/Electronicstationaryy">Electronic Stationary</a>
        <a class="dropdown-item" href="/myShop/Printing_material">Printing Materials</a>
        <a class="dropdown-item" href="/myShop/Writtingstationary">Writing Stationary</a>
        <a class="dropdown-item" href="/myShop/Artiststationary">Artist Stationary</a>
        <a class="dropdown-item" href="/myShop/Filling_and_storage_stationary">Filling and Storage Stationary</a>


      </div>
    </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Tracker</a>
      </li>


    </ul>
    <form class="form-inline my-2 my-lg-0 mx-2">
      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-warning my-2 my-sm-0" type="submit">Search</button>

    </form>



      <div class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" id="navbarDropdow" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <b> Account</b>
        </a>
        <div class="dropdown-menu bg-dark" aria-labelledby="navbarDropdown">
          <a class="dropdown-item text-light" href="#">Login</a>
          <a class="dropdown-item text-light" href="#">Sign Up</a>
          <div class="dropdown-divider"></div>

        </div>
      </div>


    <div class="row">
        <div class="row mx-2 mt-2">
        <img src="{% static 'myShop/cart_icon.png' %}" height="30px" data-toggle="modal" data-target="#cart"><span class="total-count"></span></div>
    </div>



  </div>
</nav>
    {% block body %} {% endblock %}


<footer class="container-fluid bg-dark mt-4">
        <div class="card-group">
  <div class="card bg-dark text-white">
    <div class="card-body">
      <h3>काम करो पहचान बनाओ,<br> विस्वास कराओ स्वदेश पर</h3>
        <h3>About<span>Swadeshi Mart</span></h3>

      <p class="footer-links">
            <a href="/" class="text-success">Home</a>
            |
            <a href="#" class="text-success">Services</a>
            |
            <a href="/myShop/about" class="text-success">About</a>
            |
            <a href="/myShop/contact" class="text-success">Contact</a>
        </p>
        <p>© 2020-2021 Company, Inc. · <a href="#" class="text-success">Privacy</a> · <a href="/myShop/term" class="text-success">Terms</a></p>
    </div>
  </div>
  <div class="card bg-dark text-white">

    <div class="card-body">
      <i class="fa fa-map-marker bg-dark"></i>
              <p><span>Opposite to Diamond Public School,Jalalpur Road,Muradnagar</span>
                Ghaziabad, Uttar Pradesh - 201206</p>

            <i class="bi bi-phone"></i>
            <p>+91 6397893883 ,</p>
            <p>+91 8174856744</p>

        <div class="row">
            <svg class="bi bi-envelope-fill" width="0.8em" height="1.6em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"></path>
</svg>
            <p class="mx-2 "><a href="mailto:support@swadeshi_mart.com" class="text-success">thakurmukesh346@gmail.com</a></p>
        </div>
    </div>
  </div>

          <div class="card bg-dark text-white">

            <div class="card-body">

                <h3>  <span>About the company</span></h3>
                  <p>  This is our first startup in the direction of "Aatmanirbhar Bharat Abhiyan". We are going to give you hassle free services in your areas.We specially deals with only our Swadeshi Products.
                    We provide all the product of our targeted area in our targeted areas without any problem.Our first priority is to make our custome happy.</p>

                <div class="icon-bar">
                  <a href="#" class="facebook text-success"><i class="fa fa-facebook mx-2"></i></a>
                  <a href="#" class="twitter text-success mx-2"><i class="fa fa-twitter"></i></a>
                  <a href="#" class="google text-success mx-2"><i class="fa fa-google"></i></a>
                  <a href="#" class="linkedin text-success mx-2"><i class="fa fa-linkedin"></i></a>
                  <a href="#" class="youtube text-success mx-2"><i class="fa fa-youtube"></i></a>
                </div>
            </div>
          </div>
        </div>
            <p class="float-right"><a href="#">Back to top</a></p>

          </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  <script>

            // ************************************************
        // Shopping Cart API
        // ************************************************
        var shoppingCart = (function() {
          // =============================
          // Private methods and propeties
          // =============================
          cart = [];


          // Constructor
          function Item(name,price, count) {
            name = document.getElementById('name').innerHTML;
            price1 = document.getElementById('price').innerHTML;
            price = parseInt(price1);
            this.name =name;
            this.price = price;
            this.count = count;
            console.log(name);
          }

          // Save cart
          function saveCart() {
            localStorage.setItem('shoppingCart', JSON.stringify(cart));
          }

            // Load cart
          function loadCart() {
            cart = JSON.parse(localStorage.getItem('shoppingCart'));
          }
          if (localStorage.getItem("shoppingCart") != null) {
            loadCart();
          }


          // =============================
          // Public methods and propeties
          // =============================
          var obj = {};

          // Add to cart
          obj.addItemToCart = function(name, price, count) {
            name = document.getElementById('name').innerHTML;
            price1 = document.getElementById('price').innerHTML;
            price = parseInt(price1);
            for(var item in cart) {
              if(cart[item].name === name) {
                cart[item].count ++;
                saveCart();
                return;
              }
            }
            var item = new Item(name, price, count);
            cart.push(item);
            saveCart();
          }
          // Set count from item
          obj.setCountForItem = function(name, count) {
            console.log(name);
            for(var i in cart) {
              if (cart[i].name === name) {
                cart[i].count = count;
                break;
              }
            }
          };
          // Remove item from cart
          obj.removeItemFromCart = function(name) {
              for(var item in cart) {
                if(cart[item].name === name) {
                  cart[item].count --;
                  if(cart[item].count === 0) {
                    cart.splice(item, 1);
                  }
                  break;
                }
            }
            saveCart();
          }

          // Remove all items from cart
          obj.removeItemFromCartAll = function(name) {
            for(var item in cart) {
              if(cart[item].name === name) {
                cart.splice(item, 1);
                break;
              }
            }
            saveCart();
          }

          // Clear cart
          obj.clearCart = function() {
            cart = [];
            saveCart();
          }

          // Count cart
          obj.totalCount = function() {
            var totalCount = 0;
            for(var item in cart) {
              totalCount += cart[item].count;
            }
            return totalCount;
          }

          // Total cart
          obj.totalCart = function() {
            var totalCart = 0;
            for(var item in cart) {
              totalCart += cart[item].price * cart[item].count;
            }
            return Number(totalCart.toFixed(2));
          }

          // List cart
          obj.listCart = function() {
            var cartCopy = [];
            for(i in cart) {
              item = cart[i];
              itemCopy = {};
              for(p in item) {
                itemCopy[p] = item[p];

              }
              itemCopy.total = Number(item.price * item.count).toFixed(2);
              cartCopy.push(itemCopy)
            }
            return cartCopy;
          }

          // cart : Array
          // Item : Object/Class
          // addItemToCart : Function
          // removeItemFromCart : Function
          // removeItemFromCartAll : Function
          // clearCart : Function
          // countCart : Function
          // totalCart : Function
          // listCart : Function
          // saveCart : Function
          // loadCart : Function
          return obj;
        })();


        // *****************************************
        // Triggers / Events
        // *****************************************
        // Add item
        $('.add-to-cart').click(function(event) {
          event.preventDefault();
          var name = $(this).data('name');
          var price = Number($(this).data('price'));
          shoppingCart.addItemToCart(name, price, 1);
          displayCart();
        });

        // Clear items
        $('.clear-cart').click(function() {
          shoppingCart.clearCart();
          displayCart();
        });


        function displayCart() {
          var cartArray = shoppingCart.listCart();
          var output = "";
          for(var i in cartArray) {
            output += "<tr>"
              + "<td>" + cartArray[i].name + "</td>"
              + "<td>(" + cartArray[i].price + ")</td>"
              + "<td><div class='input-group'><button class='minus-item input-group-addon btn btn-primary' data-name=" + cartArray[i].name + ">-</button>"
              + "<input type='number' class='item-count form-control' data-name='" + cartArray[i].name + "' value='" + cartArray[i].count + "'>"
              + "<button class='plus-item btn btn-primary input-group-addon' data-name=" + cartArray[i].name + ">+</button></div></td>"
              + "<td><button class='delete-item btn btn-danger' data-name=" + cartArray[i].name + ">X</button></td>"
              + " = "
              + "<td>" + cartArray[i].total + "</td>"
              +  "</tr>";
          }
          $('.show-cart').html(output);
          $('.total-cart').html(shoppingCart.totalCart());
          $('.total-count').html(shoppingCart.totalCount());
        }

        // Delete item button

        $('.show-cart').on("click", ".delete-item", function(event) {
          var name = $(this).data('name')
          shoppingCart.removeItemFromCartAll(name);
          displayCart();
        })


        // -1
        $('.show-cart').on("click", ".minus-item", function(event) {
          var name = $(this).data('name')
          shoppingCart.removeItemFromCart(name);
          displayCart();
        })
        // +1
        $('.show-cart').on("click", ".plus-item", function(event) {
          var name = $(this).data('name')
          shoppingCart.addItemToCart(name);
          displayCart();
        })

        // Item count input
        $('.show-cart').on("change", ".item-count", function(event) {
           var name = $(this).data('name');
           var count = Number($(this).val());
          shoppingCart.setCountForItem(name, count);
          displayCart();
        });

        displayCart();



  </script>
  {% block js %} {% endblock %}

  </body>
</html>